model Thought {
  id String @id @default(dbgenerated("uuidv7()")) @db.Uuid

  // References
  userId String

  // Relations
  bookmark Bookmark?

  // Audits
  updatedAt DateTime @updatedAt

  // Constraints
  @@index([userId])
}

model BookmarkFolder {
  id          String  @id @default(dbgenerated("uuidv7()")) @db.Uuid
  name        String
  description String?
  color       String?

  // References
  userId String

  // Relations
  bookmarks Bookmark[]

  // Audits
  updatedAt DateTime @updatedAt

  // Constraints
  @@index([userId])
}

model Bookmark {
  id          String  @id @db.Uuid
  url         String
  title       String?
  description String?
  image       String?
  favicon     String?
  publishedAt String?
  userContext String?
  folderId    String  @db.Uuid

  // Relations
  thought Thought        @relation(fields: [id], references: [id], onDelete: Cascade, onUpdate: Cascade)
  folder  BookmarkFolder @relation(fields: [folderId], references: [id], onDelete: Cascade, onUpdate: Cascade)

  // Constraints
  @@index([folderId])
}
