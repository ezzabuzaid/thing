model Schedules {
  id           String @id @default(dbgenerated("uuidv7()")) @db.Uuid
  title        String
  instructions String
  cron         String
  runnerId     String

  enabled Boolean @default(true)

  // Audits
  updatedAt DateTime @updatedAt

  // References
  userId String
  runs   ScheduleRuns[]

  // Relations
  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
}

model ScheduleRuns {
  id     String  @id @default(dbgenerated("uuidv7()")) @db.Uuid
  title  String?
  result String?

  // References
  scheduleId String @db.Uuid

  // Audits
  runAt       DateTime
  completedAt DateTime?

  // Relations
  schedule Schedules @relation(fields: [scheduleId], references: [id], onDelete: Cascade)

  // Constraints
  @@index([scheduleId])
}
